<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>development/developing-internal-plugins · KBase UI Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;developing-kbase-ui-plugins&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#developing-kbase-ui-plugins&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developing kbase-ui Plugins&lt;/h1&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="development/developing-internal-plugins · KBase UI Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://eapearson.github.io/kbase-ui-docs/kbase-ui-docs/"/><meta property="og:description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;developing-kbase-ui-plugins&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#developing-kbase-ui-plugins&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developing kbase-ui Plugins&lt;/h1&gt;
"/><meta property="og:image" content="https://eapearson.github.io/kbase-ui-docs/kbase-ui-docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://eapearson.github.io/kbase-ui-docs/kbase-ui-docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/kbase-ui-docs/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://eapearson.github.io/kbase-ui-docs/kbase-ui-docs/blog/atom.xml" title="KBase UI Documentation Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://eapearson.github.io/kbase-ui-docs/kbase-ui-docs/blog/feed.xml" title="KBase UI Documentation Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-137652528-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/kbase-ui-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/kbase-ui-docs/css/main.css"/><script src="/kbase-ui-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/kbase-ui-docs/"><img class="logo" src="/kbase-ui-docs/img/kbase_logo.png" alt="KBase UI Documentation"/><h2 class="headerTitleWithLogo">KBase UI Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/kbase-ui-docs/docs/getting-started/" target="_self">Docs</a></li><li class=""><a href="/kbase-ui-docs/help" target="_self">Help</a></li><li class=""><a href="/kbase-ui-docs/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">development/developing-internal-plugins</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="developing-kbase-ui-plugins"></a><a href="#developing-kbase-ui-plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Developing kbase-ui Plugins</h1>
<p>This guide covers a developer workflow for developing kbase-ui plugins, and deploying plugin and kbase-ui updates.</p>
<blockquote>
<p>Note this is for working on an <em>existing</em> plugin -- it does not cover creation of a plugin from scratch</p>
</blockquote>
<ul>
<li>Prerequisites</li>
<li>Setting Up</li>
<li>Linking into kbase-ui</li>
<li>Deploying updated plugin</li>
<li>Integrating into kbase-ui</li>
<li>Deploying updated kbase-ui</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="prerequisites"></a><a href="#prerequisites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2>
<p>This guide does not cover setting up kbase-ui for development -- if you have not done that yet please see the following documents:</p>
<p>(1) <a href="Prerequisites">prerequisites.md</a>
(2) [developing-kbase-ui.md](Developing with kbase-ui)</p>
<h2><a class="anchor" aria-hidden="true" id="setting-up"></a><a href="#setting-up" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Up</h2>
<p>Good, now that you have set up a kbase-ui development environment, it is time to integrate a plugin to work on.</p>
<h3><a class="anchor" aria-hidden="true" id="fork-the-plugin-repo"></a><a href="#fork-the-plugin-repo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fork the Plugin Repo</h3>
<p>If you haven't yet, now is the time to fork the plugin repo at github.</p>
<p>All kbase plugins have an upstream repo in the kbase github account at <code>https://github.com/kbase/kbase-ui-plugin-THEPLUGIN</code>.</p>
<p>Where <code>THEPLUGIN</code> is the name of the plugin.</p>
<blockquote>
<p>Note that sometimes during initial rapid development, a plugin may reside at your personal repo. This saves the extra pull request step which can slow down iterative development. This only works well when you are the sole developer</p>
</blockquote>
<p>Note that all plugin repos are prefixed with <code>kbase-ui-plugin-</code>. This is not strictly a requirement, although some kbase-ui build tools will assume this, but it is good practice for a few reasons:</p>
<ul>
<li>it creates a uniqe name in the <em>github</em> namespace</li>
<li>it createsa a unique name in the <em>bower</em> namespace (more on that later)</li>
<li>it makes it easier to manage plugins in your project (they appear together in directory listings)</li>
</ul>
<p>When we reference the <em>name</em> of a plugin, we always refer the the string occuring after the <em>kbase-ui-plugin-</em> prefix.</p>
<p>So, your task is to fork the repo you are interested in.</p>
<ul>
<li>create a github account if you do not already have one
<ul>
<li>if you are a kbase staff member and you already have a github account, you may wish to create a kbase account distinct from your other identity on github</li>
</ul></li>
<li>sign in to github if you are not already and ensure you are using the correct account for kbase work</li>
<li>visit the github page for the plugin
<ul>
<li>the root page for all plugins is <a href="https://github.com/kbase">https://github.com/kbase</a></li>
</ul></li>
<li>fork the repo into your github account using the fork button</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="clone-the-plugin-repo"></a><a href="#clone-the-plugin-repo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clone the Plugin Repo</h3>
<p>We'll clone the plugin repo using the same method used for setting up kbase-ui for development.</p>
<p>First, open a terminal in the top level <code>dev</code> directory you set up to contain the kbase-ui repo.</p>
<p>Then we'll clone the canonical plugin repo in the kbase account.</p>
<pre><code class="hljs css language-bash">$ git <span class="hljs-built_in">clone</span> https://github.com/kbase/kbase-ui-plugin-PLUGINNAME
</code></pre>
<p>Then add a remote which is your fork of the repo.</p>
<pre><code class="hljs css language-bash">$ git remote add NICKNAME https://github.com/YOURACCOUNT/kbase-ui-plugin-PLUGINNAME
</code></pre>
<p>This sets up a remote named NICKNAME which points to your fork using the https method.</p>
<p>If you want to avoid the need to enter your password every time you push changes back up to your account, you may want to set up an ssh key:</p>
<p><a href="">https://help.github.com/articles/connecting-to-github-with-ssh/</a>.</p>
<p>If you have an ssh key for your current machine established for your github account, the clone command would look like</p>
<pre><code class="hljs">$ git remote add NICKNAME ssh:<span class="hljs-regexp">//gi</span>t@github.com<span class="hljs-regexp">/YOURACCOUNT/</span>kbase-ui-plugin-PLUGINNAME
</code></pre>
<p>In either event, you have now established the plugin as a sister directory to kbase-ui. Your development directory should now look like:</p>
<pre><code class="hljs">dev
   kbase-ui
       ...
   kbase-ui-plugin-PLUGINNAME
       ...
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="an-aside-how-plugins-are-built-into-kbase-ui"></a><a href="#an-aside-how-plugins-are-built-into-kbase-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>An aside: how plugins are built into kbase-ui</h3>
<p>In the kbase-ui build configuration, there exists a configuration file listing all of the plugins to be built into the kbase-ui web app. This configuration file specifies the plugin name, the location and the version.</p>
<p>The entry will look like this:</p>
<pre><code class="hljs">    -
<span class="hljs-symbol">        name:</span> PLUGINNAME
<span class="hljs-symbol">        globalName:</span> kbase-ui-plugin-PLUGINNAME
<span class="hljs-symbol">        version:</span> <span class="hljs-number">1.2</span><span class="hljs-number">.3</span>
<span class="hljs-symbol">        cwd:</span> src/plugin
<span class="hljs-symbol">        source:</span>
<span class="hljs-symbol">            bower:</span> {}
</code></pre>
<p>During the kbase-ui build process, the build tool uses the <em>bower</em> package manager to locate and download the correct version of the plugin source from github and install it locally. The build tool then copies the src/plugin/modules directory into the kbase-ui modules/plugins directory, and uses the src/plugin/config.yml file to integrate plugin components into the ui.</p>
<p>Now, you may be able to see that one way to develop plugins is to simply update the plugin source, merge it into the repo, update the repo version, and rebuild kbase-ui. That is the short version of the steps necessary to integrate a plugin change! Although these steps are necessary for a well-managed system, it would be a  slow way to incrementally develop a plugin (although you can imagine a set of tools to automate it.)</p>
<p>So, at develop-time, an alternative method is used. Since during the kbase-ui build process the plugin <code>src/plugin/module</code> directory is simply copied, whole-cloth, into the kbase-ui built source tree, we can simply alter the kbase-ui build to point to our local src/plugin/module rather than the installed one.</p>
<p>In the old development workflows, the installed plugin would be removed and the local development directory linked into the build. In the current docker-based workflow, we use the docker run mount options to perform a similar function. Fortunately this is wrapped within the 'run-image.sh' tool</p>
<h3><a class="anchor" aria-hidden="true" id="run-the-image-with-the-plugin-linked"></a><a href="#run-the-image-with-the-plugin-linked" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run the image with the plugin linked</h3>
<p>A tool is provided to both run the image (container) and at the same time link the locally cloned plugin directly into the image. This works by mounting the plugin source directory to the corresponding location inside of the kbase-ui container. The docker-mounted directory will temporarily replace the directory which was installed when kbase-ui was built.</p>
<pre><code class="hljs css language-bash"><span class="hljs-built_in">cd</span> ~/work/dev/kbase-ui
bash deployment/dev/tools/run-image.sh dev -p MYPLUGIN
</code></pre>
<p>The tool we are running is ```run-image.sh``.</p>
<p>Here is the usage output:</p>
<pre><code class="hljs css language-bash">Usage: run-image.sh env [-p external-plugin] [-i internal-plugin] [-l lib-module-dir:lib-name:<span class="hljs-built_in">source</span>-path]<span class="hljs-string">'
</span></code></pre>
<p>You should see a successful startup of the docker container, with log lines printed into the console.</p>
<h4><a class="anchor" aria-hidden="true" id="env-argument"></a><a href="#env-argument" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>env argument</h4>
<p>The first argument to run-image is the ```env``. This value corresponds to the corresponding deployment config file located in deployment/conf. Since we are supplying &quot;dev&quot;, we will be using the deploy file &quot;deployment/conf/dev.ini&quot;.</p>
<h4><a class="anchor" aria-hidden="true" id="p-argument"></a><a href="#p-argument" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>-p argument</h4>
<p>We are using the -p argument to specify an external plugin to link into the kbase-ui image. Note that we use the plugin name, not the repo name. The tool knows how to find the plugin directory based on the directory structure (it should be a sister directory to kbase-ui) and uniform naming structure for repos (kbase-ui-plugin-PLUGINNAME).</p>
<blockquote>
<p>TODO: provide a make task for this</p>
</blockquote>
<p>Confirm that this works by pulling up your favorite browser to <a href="https://ci.kbase.us">https://ci.kbase.us</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="develop"></a><a href="#develop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Develop!</h2>
<p>You may now make changes to the plugin, and see those changes reflected immediately upon refreshing the browser.</p>
<h2><a class="anchor" aria-hidden="true" id="more-sections-to-be-written-for-external-plugin-development"></a><a href="#more-sections-to-be-written-for-external-plugin-development" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More sections to be written for external plugin development</h2>
<ul>
<li>testing changes for all environments</li>
<li>pr, merge, tagging plugin</li>
<li>local testing again with new version</li>
<li>pr, merge ui changes (just config)</li>
<li>redeploy on CI</li>
</ul>
<p>*** UPDATED ***</p>
<h2><a class="anchor" aria-hidden="true" id="deploying-updated-plugin"></a><a href="#deploying-updated-plugin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploying updated plugin</h2>
<p>[ to be done ]
[ this section will describe how to get your updated plugin back into the home repo and to increment the version]</p>
<h3><a class="anchor" aria-hidden="true" id="updating-your-repo"></a><a href="#updating-your-repo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating your repo</h3>
<h3><a class="anchor" aria-hidden="true" id="the-pull-request"></a><a href="#the-pull-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The pull request</h3>
<h3><a class="anchor" aria-hidden="true" id="the-version-bump"></a><a href="#the-version-bump" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The version bump</h3>
<h2><a class="anchor" aria-hidden="true" id="integrating-into-kbase-ui"></a><a href="#integrating-into-kbase-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Integrating into  kbase-ui</h2>
<p>[ to be done]
[ with an updated plugin, time to integrate it back into kbase-ui and ensure it works ]</p>
<h3><a class="anchor" aria-hidden="true" id="updating-plugins-configurations"></a><a href="#updating-plugins-configurations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating plugins configurations</h3>
<h3><a class="anchor" aria-hidden="true" id="test-each-build"></a><a href="#test-each-build" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test each build</h3>
<h2><a class="anchor" aria-hidden="true" id="deploying-updated-kbase-ui"></a><a href="#deploying-updated-kbase-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploying updated kbase-ui</h2>
<p>[ to be done ]
[ with an updated kbase ui, time to get that back into the home repo and up on ci ]</p>
<h3><a class="anchor" aria-hidden="true" id="commit-changes-and-push-up-to-your-fork"></a><a href="#commit-changes-and-push-up-to-your-fork" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Commit changes and push up to your fork</h3>
<h3><a class="anchor" aria-hidden="true" id="pull-request-to-the-main-repo"></a><a href="#pull-request-to-the-main-repo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pull Request to the main repo</h3>
<h3><a class="anchor" aria-hidden="true" id="testing-your-pr"></a><a href="#testing-your-pr" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing your PR</h3>
<p>Testing the PR can take place alongside the development stuff, taking advantage of the vm and proxy that are already set up.</p>
<p>All this should be done in the vm, so open up a terminal in the vm if you don't have one already.</p>
<pre><code class="hljs"><span class="hljs-attribute">vagrant ssh</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ensure-that-the-vm-has-the-required-kbase-ui-dev-dependencies"></a><a href="#ensure-that-the-vm-has-the-required-kbase-ui-dev-dependencies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ensure that the vm has the required kbase-ui dev dependencies:</h4>
<pre><code class="hljs">curl -sL http<span class="hljs-variable">s:</span>//<span class="hljs-keyword">deb</span>.nodesource.<span class="hljs-keyword">com</span>/setup_6.<span class="hljs-keyword">x</span> | sudo -E bash -
sudo apt-<span class="hljs-built_in">get</span> install -<span class="hljs-keyword">y</span> nodejs git
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="set-up-testing-directory-and-clone-repos"></a><a href="#set-up-testing-directory-and-clone-repos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set up testing directory and clone repos</h4>
<p>In the /vagrant directory, create a directory pr-testing</p>
<pre><code class="hljs"><span class="hljs-keyword">cd</span> /vagrant
<span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">pr</span>-testing
</code></pre>
<p>In this directory, clone the plugin and kbase-ui from the kbase account at github:</p>
<pre><code class="hljs">git <span class="hljs-keyword">clone</span> <span class="hljs-title">-b</span> develop https://github.com/kbase/kbase-ui
git <span class="hljs-keyword">clone</span> <span class="hljs-title">https</span>://github.com/kbase/kbase-ui-plugin-MYPLUGIN
</code></pre>
<p>In the plugin directory fetch the pull request 123 into a branch:</p>
<pre><code class="hljs">git fetch origin pull/<span class="hljs-number">123</span>/head:test<span class="hljs-number">-123</span>
git checkout test<span class="hljs-number">-123</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="set-up-kbase-ui-to-use-a-local-plugin-directory"></a><a href="#set-up-kbase-ui-to-use-a-local-plugin-directory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set up kbase-ui to use a local plugin directory</h4>
<p>Configure the build to use the local plugin for the build</p>
<pre><code class="hljs"><span class="hljs-attr">cd</span> <span class="hljs-string">kbase-ui</span>
<span class="hljs-attr">vi</span> <span class="hljs-string">config/ui/ci/build.yml</span>
</code></pre>
<p>in the section for the plugin change the source:</p>
<pre><code class="hljs">    -
<span class="hljs-symbol">        name:</span> dataview
<span class="hljs-symbol">        globalName:</span> kbase-ui-plugin-dataview
<span class="hljs-symbol">        version:</span> <span class="hljs-number">3.1</span><span class="hljs-number">.6</span>
<span class="hljs-symbol">        cwd:</span> src/plugin
<span class="hljs-symbol">        source:</span>
<span class="hljs-symbol">            bower:</span> {}
</code></pre>
<p>to this</p>
<pre><code class="hljs">    -
<span class="hljs-symbol">        name:</span> dataview
<span class="hljs-symbol">        globalName:</span> kbase-ui-plugin-dataview
<span class="hljs-symbol">        version:</span> <span class="hljs-number">3.1</span><span class="hljs-number">.6</span>
<span class="hljs-symbol">        cwd:</span> src/plugin
<span class="hljs-symbol">        source:</span>
<span class="hljs-symbol">            directory:</span> {}
</code></pre>
<blockquote>
<p>Note: be sure to preserve spaces and not use tabs; otherwise you will get a yaml error during the build</p>
</blockquote>
<p>Build kbase-ui</p>
<pre><code class="hljs"><span class="hljs-built_in">make</span> init
<span class="hljs-built_in">make</span> build config=ci
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="developer-build-for-working-on-external-plugins"></a><a href="#developer-build-for-working-on-external-plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Developer build for working on external plugins</h2>
<p>The setup for working on external plugins is very similar to that of working on kbase-ui, except that you must clone the plugins and instruct the image runner to mount the plugins.</p>
<p>The short list:</p>
<ul>
<li>create top level working directory</li>
<li>within this directory clone kbase-ui and any plugins you want to work on
<ul>
<li>kbase-ui needs to start out in develop branch of kbase/kbase-ui</li>
<li>plugins only have a master branch</li>
</ul></li>
<li>build kbase-ui</li>
<li>build the kbase-ui dev image</li>
<li>configure your /etc/hosts to use the dev server</li>
<li>run the image with the plugins linked in:</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="create-top-level-working-directory"></a><a href="#create-top-level-working-directory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Top Level Working Directory</h3>
<p>The kbase-ui tools assume that kbase-ui is cloned alonside any plugins or libraries which are linked into it. Therefore, you need to create a single working directory and clone the repos inside of it.</p>
<p>Let's assume this is ~/work/dev, or just dev for short.</p>
<h3><a class="anchor" aria-hidden="true" id="clone-kbase-ui-and-any-plugins"></a><a href="#clone-kbase-ui-and-any-plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clone kbase-ui and any plugins</h3>
<pre><code class="hljs css language-bash"><span class="hljs-built_in">cd</span> ~/work/dev
git <span class="hljs-built_in">clone</span> -b develop https://github.com/kbase/kbase-ui
git <span class="hljs-built_in">clone</span> https://github.com/kbase/kbase-ui-plugin-my-plugin
</code></pre>
<p>You'll need a PR friendly git clone setup. There are several ways to do this. Using the above as a starting point, for instance:</p>
<pre><code class="hljs css language-bash"><span class="hljs-built_in">cd</span> ~/work/dev/kbase-ui
git checkout -b &lt;my-plugin-work&gt;
git remote add &lt;nickname&gt; ssh://git@github.com/&lt;account&gt;/kbase-ui
<span class="hljs-built_in">cd</span> ~/work/dev/kbase-ui-plugin-my-plugin
git checkout -b &lt;my-plugin-work&gt;
git remote add &lt;nickname&gt; ssh://git@github.com/&lt;account&gt;/kbase-ui-plugin-my-plugin
</code></pre>
<p>This will add your fork of kbase-ui under the remote name <nickname>. Note that it is using ssh transport, which will your ssh key registered at github. If you don't work with ssh keys, you would just use the normal https form:</p>
<pre><code class="hljs css language-bash">git remote add &lt;nickname&gt; https://githiub.com/&lt;account&gt;/kbase-ui
</code></pre>
<p>Of course this assumes you have forked kbase-ui!</p>
<p>You would be working in the new local branch named &lt;my-plugin-work&gt;, which started at the tip of the develop branch. You would then push your changes up to your fork like</p>
<pre><code class="hljs css language-bash"><span class="hljs-built_in">cd</span> ~/work/dev
git push &lt;my-plugin-work&gt;
</code></pre>
<p>Working with the plugin is similar, except your branch starts at the tip of the master branch.</p>
<p>Of course, your workflow may be completely different, this is just an example.</p>
<hr>
<p><a href="../index.md">Index</a> - <a href="../README.md">README</a> - <a href="../../release-notes/index.md">Release Notes</a> - <a href="http://kbase.us">KBase</a></p>
<hr>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#setting-up">Setting Up</a><ul class="toc-headings"><li><a href="#fork-the-plugin-repo">Fork the Plugin Repo</a></li><li><a href="#clone-the-plugin-repo">Clone the Plugin Repo</a></li><li><a href="#an-aside-how-plugins-are-built-into-kbase-ui">An aside: how plugins are built into kbase-ui</a></li><li><a href="#run-the-image-with-the-plugin-linked">Run the image with the plugin linked</a></li></ul></li><li><a href="#develop">Develop!</a></li><li><a href="#more-sections-to-be-written-for-external-plugin-development">More sections to be written for external plugin development</a></li><li><a href="#deploying-updated-plugin">Deploying updated plugin</a><ul class="toc-headings"><li><a href="#updating-your-repo">Updating your repo</a></li><li><a href="#the-pull-request">The pull request</a></li><li><a href="#the-version-bump">The version bump</a></li></ul></li><li><a href="#integrating-into-kbase-ui">Integrating into  kbase-ui</a><ul class="toc-headings"><li><a href="#updating-plugins-configurations">Updating plugins configurations</a></li><li><a href="#test-each-build">Test each build</a></li></ul></li><li><a href="#deploying-updated-kbase-ui">Deploying updated kbase-ui</a><ul class="toc-headings"><li><a href="#commit-changes-and-push-up-to-your-fork">Commit changes and push up to your fork</a></li><li><a href="#pull-request-to-the-main-repo">Pull Request to the main repo</a></li><li><a href="#testing-your-pr">Testing your PR</a></li></ul></li><li><a href="#developer-build-for-working-on-external-plugins">Developer build for working on external plugins</a><ul class="toc-headings"><li><a href="#create-top-level-working-directory">Create Top Level Working Directory</a></li><li><a href="#clone-kbase-ui-and-any-plugins">Clone kbase-ui and any plugins</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/kbase-ui-docs/" class="nav-home"><img src="/kbase-ui-docs/img/favicon.ico" alt="KBase UI Documentation" width="66" height="58"/></a><div><h5>Docs</h5><a href="/kbase-ui-docs/docs/en/getting-started/index.html">Getting Started</a></div><div><h5>Community</h5><a href="/kbase-ui-docs/en/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/kbase-ui-docs/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/kbase/kbase-ui/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 KBase </section></footer></div></body></html>